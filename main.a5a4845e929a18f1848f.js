(()=>{"use strict";const e="error",t="popup_open",o=".loader",n="loader_loading",r=".body",a="show-other-events",c=e=>{const t=Date.parse((new Date).toString()),o=Date.parse(new Date(e).toString());var n;n=o-t,(e=>{const t=document.querySelector(".countdown__number_days"),o=document.querySelector(".countdown__number_hours"),n=document.querySelector(".countdown__number_minutes"),r=document.querySelector(".countdown__number_seconds");t.innerHTML=`0${e.daysLeft}`.slice(-2),o.innerHTML=`0${e.hoursLeft}`.slice(-2),n.innerHTML=`0${e.minutesLeft}`.slice(-2),r.innerHTML=`0${e.secondsLeft}`.slice(-2)})({daysLeft:Math.floor(n/1e3/60/60/24),hoursLeft:Math.floor(n/1e3/60/60)%24,minutesLeft:Math.floor(n/1e3/60)%60,secondsLeft:Math.floor(n/1e3)%60})},s={en:{buttonLang:"EN",promoHeading:"Under Construction",promoSlogan:"We're making lots of improvements and will be back soon",goToEventComment:"Check our event page when you wait:",eventButton:"Go to the event",formErrorMessage:"Oops... Incorrect email. Email should look like example@gmail.com",emailPlaceholder:"Enter your Email and get notified",close:"close",successMessage:"You have successfully subscribed to the email newsletter. Hot news is already in your email",failedMessage:"Sorry, something went wrong. Try again",success:"success!",failed:"failed...",buttonAccordion:"More information",accordionHeader:"All events",tabHeader1:"Hawaiian party",tabHeader2:"Mafia party",tabHeader3:"Party on the beach",tabHeader4:"Summer party",tabHeader5:"Home party",tabHeader6:"Party on the street",otherEventButton:"Other Events"},ru:{buttonLang:"RU",promoHeading:"В разработке",promoSlogan:"Мы делаем много улучшений и скоро вернемся",goToEventComment:"Заглянить на нашу страницу событий:",eventButton:"Перейти к событиям",formErrorMessage:"Упс... Неверный адрес эл. почты. Эл. почта должна выглядеть как example@gmail.com",emailPlaceholder:"Введите свой Email",close:"закрыть",successMessage:"Вы успешно подписались на рассылку новостей по электронной почте.Горячие новости уже на вашей почте",failedMessage:"Извините, что-то пошло не так. Попробуйте снова",success:"успешно!",failed:"ошибка...",buttonAccordion:"Больше информации",accordionHeader:"Все мероприятия",tabHeader1:"Гавайская вечеринка",tabHeader2:"Игра в мафию",tabHeader3:"Вечеринка на пляже",tabHeader4:"Летняя вечеринка",tabHeader5:"Домашняя вечеринка",tabHeader6:"Уличная вечеринка",otherEventButton:"Другие События"}},l=(e,o)=>{let n="";n=(e=>{const t=(()=>{let e="en";return e=document.querySelector(r).classList.contains("ru-lang")?"ru":"en",e})(),o="en"===t?s.en.success:s.ru.success,n="en"===t?s.en.failed:s.ru.failed,a="en"===t?s.en.successMessage:s.ru.successMessage,c="en"===t?s.en.failedMessage:s.ru.failedMessage;return`\n    <h3 class=popup__header>${(null==e?void 0:e.email)?o:n}</h3>\n    <p class=popup__message>${(null==e?void 0:e.email)?`${a} </br><b>${e.email}</b>`:c}</p>\n    `})(o||null);const a=document.querySelector(".popup__content-container"),c=document.createElement("div");c.className="popup__content-container",c.innerHTML=n,a.replaceWith(c),e.classList.add(t)},i=e=>{e.classList.remove(t)},d=(e,t)=>{const o=document.querySelector(".popup"),n=document.querySelector(".popup__content"),r=document.querySelector(".popup__close-button_main"),a=document.querySelector(".popup__close-button_secondary");"success"===e&&t&&l(o,t),"failed"===e&&l(o),o.addEventListener("click",(()=>i(o))),n.addEventListener("click",(e=>e.stopPropagation())),r.addEventListener("click",(()=>i(o))),a.addEventListener("click",(()=>i(o)))},u=()=>{const e=document.querySelector(o);null==e||e.classList.remove(n)};const m=function(e){return t=this,o=void 0,r=function*(){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};try{const e=yield fetch("https://jsonplaceholder.typicode.com/posts",t),o=yield e.json();u(),d("success",o)}catch(e){u(),d("failed"),console.error(e)}},new((n=void 0)||(n=Promise))((function(e,a){function c(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof n?o:new n((function(e){e(o)}))).then(c,s)}l((r=r.apply(t,o||[])).next())}));var t,o,n,r},p=()=>window.innerWidth;window.addEventListener("load",(()=>{document.querySelector(r).classList.add("initial-animation")})),c("2023, 5, 31"),setInterval((()=>{c("2023, 5, 31")}),1e3),(()=>{const t=document.querySelector(".form"),r=document.querySelector(".form__email");null==t||t.addEventListener("submit",(a=>{var c,s,l;a.preventDefault(),null===(l=(s=c=r).parentElement)||void 0===l||l.classList.remove(e),s.classList.remove(e),(!(e=>!/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,8})+$/.test(e.value))(c)||((t=>{var o;null===(o=t.parentElement)||void 0===o||o.classList.add(e),t.classList.add(e)})(c),0))&&((()=>{const e=document.querySelector(o);null==e||e.classList.add(n)})(),m({email:r.value}),t.reset())}))})(),(()=>{const e=document.querySelector(r),t=document.querySelector(".nav__button_toggle-lang");t.addEventListener("click",(()=>{t.classList.toggle("ru-lang"),e.classList.toggle("ru-lang"),(e=>{const t=document.querySelector(".form__email");let o="en";e.classList.contains("ru-lang")?(o="ru",t.placeholder=s.ru.emailPlaceholder):(o="en",t.placeholder=s.en.emailPlaceholder),document.querySelectorAll("[data-i18]").forEach((e=>e.textContent=s[o][e.dataset.i18]))})(t)}))})(),(()=>{const e=document.querySelector(".wrapper-accordion__rotate"),t=document.querySelectorAll(".accordion"),o=document.querySelectorAll(".accordion__content"),n=(()=>{let e="560px";return p()<1200&&(e="400px"),e})();(()=>{var e;null===(e=document.querySelector('[data-tab="tab-1"]'))||void 0===e||e.classList.add("active");const{style:t}=document.querySelector("#tab-1");t.height=n})();let r=!0;e.addEventListener("transitionend",(()=>{r=!0})),e.addEventListener("click",(e=>{console.log(p());const a=e.target.closest(".accordion__title");if(a){const e=null==a?void 0:a.parentNode,c=document.querySelector(`#${e.dataset.tab}`);r&&(o.forEach((e=>{const{style:t}=e;t.height="0"})),t.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),c.style.height=n,r=!1)}}))})(),(()=>{const e=document.querySelector(".footer__events-button"),t=document.querySelector(r);null==e||e.addEventListener("click",(()=>{null==t||t.classList.toggle(a),(e=>{e.classList.contains(a)?document.querySelector(".wrapper-accordion").scrollIntoView({block:"end",behavior:"smooth"}):(e=>{e.scrollIntoView({block:"start",behavior:"smooth"})})(e)})(t)}))})()})();