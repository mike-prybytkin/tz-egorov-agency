(()=>{"use strict";const e="error",t="popup_open",n=e=>{const t=Date.parse((new Date).toString()),n=Date.parse(new Date(e).toString());var o;o=n-t,(e=>{const t=document.querySelector(".countdown__number_days"),n=document.querySelector(".countdown__number_hours"),o=document.querySelector(".countdown__number_minutes"),s=document.querySelector(".countdown__number_seconds");t.innerHTML=`0${e.daysLeft}`.slice(-2),n.innerHTML=`0${e.hoursLeft}`.slice(-2),o.innerHTML=`0${e.minutesLeft}`.slice(-2),s.innerHTML=`0${e.secondsLeft}`.slice(-2)})({daysLeft:Math.floor(o/1e3/60/60/24),hoursLeft:Math.floor(o/1e3/60/60)%24,minutesLeft:Math.floor(o/1e3/60)%60,secondsLeft:Math.floor(o/1e3)%60})},o=(e,n)=>{let o="";o=(e=>`\n    <h3 class=popup__header>${(null==e?void 0:e.email)?"success!":"failed..."}</h3>\n    <p class=popup__message>${(null==e?void 0:e.email)?`You have successfully subscribed to the email newsletter. Hot news is already in your email </br><b>${e.email}</b>`:"Sorry, something went wrong. Try again"}</p>\n    `)(n||null);const s=document.querySelector(".popup__content-container"),c=document.createElement("div");c.className="popup__content-container",c.innerHTML=o,s.replaceWith(c),e.classList.add(t)},s=e=>{e.classList.remove(t)},c=(e,t)=>{const n=document.querySelector(".popup"),c=document.querySelector(".popup__content"),r=document.querySelector(".popup__close-button_main"),a=document.querySelector(".popup__close-button_secondary");"success"===e&&t&&o(n,t),"failed"===e&&o(n),n.addEventListener("click",(()=>s(n))),c.addEventListener("click",(e=>e.stopPropagation())),r.addEventListener("click",(()=>s(n))),a.addEventListener("click",(()=>s(n)))};const r=function(e){return t=this,n=void 0,s=function*(){const t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}};try{const e=yield fetch("https://jsonplaceholder.typicode.com/posts",t),n=yield e.json();c("success",n)}catch(e){c("failed"),console.error(e)}},new((o=void 0)||(o=Promise))((function(e,c){function r(e){try{l(s.next(e))}catch(e){c(e)}}function a(e){try{l(s.throw(e))}catch(e){c(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,a)}l((s=s.apply(t,n||[])).next())}));var t,n,o,s};n("2023, 5, 31"),setInterval((()=>{n("2023, 5, 31")}),1e3),(()=>{const t=document.querySelector(".form"),n=document.querySelector(".form__email");null==t||t.addEventListener("submit",(o=>{var s,c,a;o.preventDefault(),null===(a=(c=s=n).parentElement)||void 0===a||a.classList.remove(e),c.classList.remove(e),(!(e=>!/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,8})+$/.test(e.value))(s)||((t=>{var n;null===(n=t.parentElement)||void 0===n||n.classList.add(e),t.classList.add(e)})(s),0))&&(r({email:n.value}),t.reset())}))})()})();